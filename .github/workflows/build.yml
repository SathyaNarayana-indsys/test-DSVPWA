name: Application CI
on:
  push:
    branches: [ main ]

jobs:
  security_check:
    name: Run Security Pipeline
    uses: SathyaNarayana-indsys/studious-octo-meme/.github/workflows/Secure-Main.yml@main
    with:
      # break_on_failure: true # Required for deployment logic, set to false for emergency bypass
      deployment_type: VM #either VM or Container defaults to VM
      repo_link: ${{ vars.REPORTS_REPO_NAME }} 
      DryRun: true # for testing the pipeline but not deploy
    secrets:
      REPORTS_REPO_PAT: ${{ secrets.REPORTS_REPO_PAT }}
      # USER: ${{ secrets.SSH_USER }}
      # HOST: ${{ secrets.SSH_HOST }}
      # SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}